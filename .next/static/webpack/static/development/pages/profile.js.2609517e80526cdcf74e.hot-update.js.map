{"version":3,"file":"static/webpack/static/development/pages/profile.js.2609517e80526cdcf74e.hot-update.js","sources":["webpack:///./components/profile/employmentInformation.js"],"sourcesContent":["import React, { useState,useEffect, useContext } from 'react'\n\nimport { ProfileContext } from '../../store/contexts/profileContext'\n\nimport Navbar from '../layouts/navbar'\n\nimport '../../public/assets/style.scss';\nimport Logout from '../../utility/logout'\nimport checkInLocalStorage from '../componentUtility/persistLocalToState';\nimport axiosFuncs from '../../utility/axios';\n\nimport moment from 'moment'\nimport Validator from 'validatorjs';\nimport Cookie from 'js-cookie'\nimport jwtFuncs from '../../utility/jwt';\nimport composeApiData from '../componentUtility/composeApiData';\n\n\n//import localStorageFuncs from '../../../utility/localStorage'\n\n\n\n //   const cropper = React.createRef(null);\n\nconst EmploymentInformation = (props) => {\n\n\n  //console.log(\"this is the passed in props +\"+JSON.stringify(props));\n // console.log(\"this is the passed in props -\"+props.stepremove);\n\n// const coVal = Cookie.get(\"auth\");\n \n// const profileStep = (cookie) => {\n//     return cookie ? jwtFuncs.jwtProfileStep(cookie) : 1 \n//  }\n\n// const sessionProStep = profileStep(coVal);\n\n//console.log(\"the pro step \"+sessionProStep);\n\n\n\n const { dispatch  } = useContext(ProfileContext);\n\n//  const checkInLocalStorage = (val) => {\n\n//   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n//   const localStorageValue = getLocalItem[\"employmentInformation\"][val]\n\n//   console.log(\" i have to trouble shoot from here \"+localStorageValue);\n\n//   if(localStorageValue !== undefined){\n//   //  console.log(\"there is a value   -->>\"+localValue);\n//     return localStorageValue\n//   }else{\n//     return ''\n//   }\n// }\n\n\n\n\n\n const [employmentInformation, setEmploymentInformation] = useState(\n              {\n                // prevProfileStep:1,\n                // nextProfileStep:3,\n                profileStep:4,\n                controlNumber: checkInLocalStorage(\"employmentInformation\",\"controlNumber\"),\n                highestQualification: checkInLocalStorage(\"employmentInformation\", \"highestQualification\"),\n                lgea: checkInLocalStorage(\"employmentInformation\", \"lgea\"),\n                station: checkInLocalStorage(\"employmentInformation\",\"station\"),\n                dateOfFirstAppointment: checkInLocalStorage(\"employmentInformation\",\"dateOfFirstAppointment\"),\n                dateOfConfirmation: checkInLocalStorage(\"employmentInformation\",\"dateOfConfirmation\"),\n                dateOfLastPromotion: checkInLocalStorage(\"employmentInformation\",\"dateOfLastPromotion\")\n\n\n              })\n\n\nconst [buttonStateF, setButtonStateF] = useState(true);\nconst [buttonStateB, setButtonStateB] = useState(false);\n                 \nlet rules = {\n\n  controlNumber: 'required',\n  highestQualification: 'required',\n  lgea: 'required',\n  station: 'required',\n  dateOfFirstAppointment: 'required',\n  dateOfConfirmation: 'required',\n  dateOfLastPromotion: 'required'\n\n\n\n//  email: 'required|email',\n//  age: 'min:18'\n};\n \nlet validation = new Validator(employmentInformation, rules, { required: 'required*' });\n\nvalidation.fails(); // true\nvalidation.passes(); // false\n\n\n\nuseEffect(() => {\n\n          if (validation.passes()) {\n            console.log(\"the validation has assed \");  \n\n                  setButtonStateF(false);\n             }else{\n              setButtonStateF(true);\n            \n         }\n    },[employmentInformation]);\n\n// useEffect(() => {\n\n//       if (employmentInformation.profileStep === sessionProStep ) {\n//               setButtonStateB(true);\n//             //  console.log(\"the   buttonStete \"+employmentInformation.profileStep);  \n//          }else{\n//               setButtonStateB(false);\n        \n//      }\n// });\n\n\n// const updateState = () =>{\n\n//   console.log(\"i have reached this place for the user effct\")\n\n// }\n\n//   useEffect(updateState, []);\n\nconst  handleChange =(e) => {\n                e.preventDefault(); \n                setEmploymentInformation({ ...employmentInformation, [e.target.id]: e.target.value })\n            \n              }\n\n\n const handleDateChange = (e, date) => {\n    //setSelectedDate(date);\n    setEmploymentInformation({ ...employmentInformation, [e.target.id]: moment(date).format('YYYY-MM-DD') })\n\n  };\n\n\nconst handleForward = async e => {\n\n    e.preventDefault();\n //   dispatch({type: 'ADD_PROFILE_DATA', payload: employmentInformation});\n  if (validation.passes()) { \n      dispatch({type: 'ADD_PROFILE_DATA', payload: {employmentInformation: employmentInformation}});\n      const next = \"F\"\n      const go = await props.updatestep(next);\n      dispatch({type: 'CURRENT_STEP', payload: employmentInformation.profileStep+1});\n      if(go){\n        return go\n      }\n    }\n\n}\n\nconst handleBack = async e => {\n\n    e.preventDefault();\n\n    const next = \"B\"\n    const go = await props.updatestep(next);\n    dispatch({type: 'CURRENT_STEP', payload: employmentInformation.profileStep-1});\n    if(go){\n  \n      return go\n    }\n  \n}\n\n\n// const handleSaveNow = async e => {\n\n//     e.preventDefault();\n//   //  const data = {...commonData, ...uniqueData};\n\n\n//     const data = {...employmentInformation,  profileStep: employmentInformation.profileStep+1};\n//    // console.log(\"the neww contact details JJ \"+JSON.stringify(data));\n\n//    if (validation.passes()) {  \n//      const dataToPost = composeApiData.composeFullProfileData(data);\n//     let api = await axiosFuncs.profilePost(dataToPost);\n//     if(api.data === \"error\" ){\n//       console.log(\"the log is error\");\n//     }\n//     if (api.data === \"success\") {\n//       console.log(\"the log is success\"+api.status);\n\n//       // router.push('/account')\n//       dispatch({type: 'CLEAR_CONTEXT'});\n//       Logout();\n    \n//     }\n//   }else{\n//     dispatch({type: 'CLEAR_CONTEXT'});\n//     Logout();\n//   }\n \n\n//     //logout();\n  \n//   }\n\n\n\n// const persistToLocalStorage = () => {\n\n//   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n\n//   if(getLocalItem !== undefined){\n\n \n\n//   }else{\n\n//    // console.log(\"i=the local storage is empty make i put something insidehinixdopd\")\n//   //  const newData = {...getLocalItem, personalDetails };\n//     const setLocalItem = localStorageFuncs.setItemInStorage(\"profile\", employmentInformation);\n\n//     return setLocalItem;\n\n//   }\n\n// }\n\n\n\n\n// useEffect(() => {\n//   // set local storage\n\n//   //console.log(\"this is the use effect running up and downnnnnnn   nooooooooooooowwwwwwwwwwww\")\n//  // dispatch({type: 'CLEAR_DATA'});\n\n//   persistToLocalStorage();\n//   // persistToState();\n//   // checkLocalStorage(\"firstName\");\n// })\n\n\n  \n\n\n\n\n  return (\n\n     <div className=\"pagegrid\">\n      <Navbar />\n\n        <div className=\"innergrid\">\n\n            <div className=\"profile-form\" >\n\n            <h3> Employment Information </h3>\n\n            <div className=\"two-column-row\">\n                  <div className=\"column\">\n                    <label htmlFor=\"controlNumber\">Address   <span className=\"fieldError\">{validation.errors.get(\"controlNumber\")}</span></label>               \n                    <input id=\"controlNumber\"  onChange={handleChange} value={employmentInformation.controlNumber} />                 \n                  </div>\n\n                      <div className=\"column\">\n                          <label htmlFor=\"highestQualification\">Highest Qualification <span className=\"fieldError\">{validation.errors.get(\"highestQualification\")}</span></label>\n                          <input id=\"highestQualification\"  onChange={handleChange} value={employmentInformation.highestQualification} />        \n                     \n                      </div>\n            </div>\n\n            <div className=\"two-column-row\">\n                      <div className=\"column\">\n                          <label htmlFor=\"lgea\">LGEA   <span className=\"fieldError\">{validation.errors.get(\"lgea\")}</span></label>\n                          <select id=\"lgea\" onChange={handleChange} value={employmentInformation.lgea} >\n                              <option value=\"\" />\n                              <option value={\"DELTA\"}>DELTA</option>\n                              <option value={\"KANO\"}>KANO</option>\n                              <option value={\"RIVERS\"}>RIVERS</option>\n                          </select>\n                      </div>\n                      <div className=\"column\">\n                          <label htmlFor=\"station\">Station/School Name  <span className=\"fieldError\">{validation.errors.get(\"station\")}</span></label>\n                          <select id=\"station\" onChange={handleChange} value={employmentInformation.station} >\n                              <option value=\"\" />\n                              <option value={\"DELTA\"}>DELTA</option>\n                              <option value={\"KANO\"}>KANO</option>\n                              <option value={\"RIVERS\"}>RIVERS</option>\n                          </select>\n                      </div>\n            </div>\n\n            <div className=\"three-column-row\">\n                     <div className=\"column\">\n                          <label htmlFor=\"dateOfFirstAppointment\">Date of First Appointment  <span className=\"fieldError\">{validation.errors.get(\"dateOfFirstAppointment\")}</span></label>\n                          <input id=\"dateOfFirstAppointment\" type=\"date\" onChange={handleDateChange} value={employmentInformation.dateOfFirstAppointment}  />\n                      </div> \n                      <div className=\"column\">\n                          <label htmlFor=\"dateOfConfirmation\">Date of Confirmation <span className=\"fieldError\">{validation.errors.get(\"dateOfConfirmation\")}</span></label>\n                          <input id=\"dateOfConfirmation\" type=\"date\" onChange={handleDateChange} value={employmentInformation.dateOfConfirmation}  />\n                      </div> \n                      <div className=\"column\">\n                          <label htmlFor=\"dateOfLastPromotion\">Date Of Last Promotion  <span className=\"fieldError\">{validation.errors.get(\"dateOfLastPromotion\")}</span></label>\n                          <input id=\"dateOfLastPromotion\" type=\"date\" onChange={handleDateChange} value={employmentInformation.dateOfLastPromotion}  />\n                      </div>\n           \n            </div>\n\n      \n\n            <div className=\"two-column-row\">\n                 <div className=\"column\">\n                         <button variant=\"outlined\"   size=\"small\" color=\"primary\" disabled={buttonStateB} onClick={handleBack}>\tBack </button>\n                      </div>\n                \n                      <div className=\"column\">\n                         <button size=\"small\" color=\"primary\"  disabled={buttonStateF} onClick={handleForward}>Next</button>\n                      </div>\n                  </div>\n\n                  <div className=\"one-column-row\">\n                      <div className=\"column componentFooter\">\n                         <span>4/6</span>\n                      </div>\n                  </div>\n\n            </div>\n        </div>\n    </div>\n\n\n\n      \n  )\n}\n\n\nexport default EmploymentInformation;\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AAdA;AAAA;AAsBA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAxCA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AA0DA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAdA;AAgBA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AANA;AAAA;AACA;AADA;AAOA;AACA;AAAA;AAAA;AAAA;AACA;AATA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAJA;AAAA;AACA;AADA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAIA;AAEA;AAEA;AAIA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AAKA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AAEA;;;;A","sourceRoot":""}