{"ast":null,"code":"var _jsxFileName = \"/home/noa/ntdbProject/app/NTDB/components/profile/bioInformation.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport moment from 'moment';\nimport Cookie from 'js-cookie';\nimport { ProfileContext } from '../../store/contexts/profileContext';\nimport jwtFuncs from '../../utility/jwt';\nimport localStorageFuncs from '../../utility/localStorage';\nimport logout from '../../utility/logout'; //import Navbar from '../../layouts/navbar'\n\nimport '../../public/assets/style.scss';\nimport Logout from '../../utility/logout';\nimport checkInLocalStorage from '../componentUtility/persistLocalToState';\nimport axiosFuncs from '../../utility/axios';\nimport Validator from 'validatorjs'; //   const cropper = React.createRef(null);\n//  const buttonStyle = {\n//   backgroundColor: 'blue',\n//  // backgroundImage: 'url(' + imgUrl + ')',\n// };\n\nconst BioInformation = props => {\n  // console.log(\"this is the passed in props +\"+JSON.stringify(props));\n  //const localCookie = Cookie.get('auth'); \n  //console.log(\"this is the local cookie from Bio Information       nnnnnn    ----->>>>>>>>>>>>> \"+localCookie);\n  const {\n    dispatch\n  } = useContext(ProfileContext);\n  const currentProfile = useContext(ProfileContext);\n  const profileValue = currentProfile.profile.bioInformation; //   const bioInformation = (val) => {\n  //       if(val === undefined){\n  //           return\n  //       }else{\n  //         return val\n  //       }\n  //     }\n\n  console.log(\"this is the current contect =============>>>>>>>>>>> \" + JSON.stringify(currentProfile)); // console.log(\"this is the current contect =============>>>>>>>>>>> \"+currentProfile.profile.bioInformation.firstName);\n  // const checkInLocalStorage = (val) => {\n  //   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n  //   const localStorageValue = getLocalItem.bioInformation[val]\n  //   if(localStorageValue !== undefined){\n  //   //  console.log(\"there is a value   -->>\"+localValue);\n  //     return localStorageValue\n  //   }else{\n  //     return ''\n  //   }\n  // }\n\n  const {\n    0: bioInformation,\n    1: setBioInformation\n  } = useState({\n    //  nextProfileStep: 2,\n    profileStep: 1,\n    firstName: checkInLocalStorage(\"bioInformation\", \"firstName\"),\n    otherName: checkInLocalStorage(\"bioInformation\", \"otherName\"),\n    lastName: checkInLocalStorage(\"bioInformation\", \"lastName\"),\n    gender: checkInLocalStorage(\"bioInformation\", \"gender\"),\n    dob: checkInLocalStorage(\"bioInformation\", \"dob\"),\n    placeOfBirth: checkInLocalStorage(\"bioInformation\", \"placeOfBirth\")\n  });\n  const {\n    0: buttonState,\n    1: setButtonState\n  } = useState(true);\n  let rules = {\n    firstName: 'required',\n    // otherName: 'required|email',\n    lastName: 'required',\n    gender: 'required',\n    dob: 'required',\n    placeOfBirth: 'required' //  email: 'required|email',\n    //  age: 'min:18'\n\n  };\n  let validation = new Validator(bioInformation, rules, {\n    required: 'required*'\n  });\n  validation.fails(); // true\n\n  validation.passes(); // false\n  // if (validation.fails()) {\n  //   console.log(\"the validation has failed thats why u see this \"+validation.errors.get(\"firstNameame\"));\n  //   // Error messages\n  // validation.errors.first('email'); // 'The email format is invalid.'\n  // validation.errors.get('email');\n  // }\n\n  useEffect(() => {\n    if (validation.passes()) {\n      setButtonState(false); // console.log(\"the   buttonStete \"+buttonState);  \n    } else {\n      setButtonState(true);\n    }\n  }, [bioInformation]);\n\n  const handleDateChange = date => {\n    //setSelectedDate(date);\n    setBioInformation(_objectSpread({}, bioInformation, {\n      dob: moment(date).format('YYYY-MM-DD')\n    }));\n  };\n\n  const handleChange = e => {\n    e.preventDefault();\n    setBioInformation(_objectSpread({}, bioInformation, {\n      [e.target.id]: e.target.value\n    }));\n  };\n\n  const handleForward = async e => {\n    e.preventDefault();\n\n    if (validation.passes()) {\n      dispatch({\n        type: 'ADD_PROFILE_DATA',\n        payload: {\n          bioInformation: bioInformation\n        }\n      });\n      const next = \"F\";\n      const go = await props.updatestep(next);\n      dispatch({\n        type: 'CURRENT_STEP',\n        payload: bioInformation.profileStep + 1\n      });\n\n      if (go) {\n        //  console.log(\"all has gone well with the profile update from the props--->>>> \"+props.currentStep);\n        return go;\n      }\n    }\n  };\n\n  const handleSaveNow = async e => {\n    e.preventDefault(); // setBioInformation({ ...bioInformation, profileStep: bioInformation.profileStep+1 });\n\n    const data = _objectSpread({}, bioInformation, {\n      profileStep: bioInformation.profileStep + 1\n    });\n\n    console.log(\"the data  \" + JSON.stringify(bioInformation));\n\n    if (validation.passes()) {\n      let api = await axiosFuncs.profilePost(data);\n\n      if (api.data === \"error\") {\n        console.log(\"the log is error\");\n      }\n\n      if (api.data === \"success\") {\n        console.log(\"the log is success\" + api.status); // router.push('/account')\n      }\n\n      dispatch({\n        type: 'CLEAR_CONTEXT'\n      });\n      Logout();\n    } else {\n      dispatch({\n        type: 'CLEAR_CONTEXT'\n      });\n      Logout();\n    } // props.createProfile(props.stateData);\n    //  logout();\n\n  };\n\n  const persistToLocalStorage = () => {\n    const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n\n    if (getLocalItem !== undefined) {} else {\n      // console.log(\"i=the local storage is empty make i put something insidehinixdopd\")\n      //  const newData = {...getLocalItem, bioInformation };\n      const setLocalItem = localStorageFuncs.setItemInStorage(\"profile\", bioInformation);\n      return setLocalItem;\n    }\n  };\n\n  useEffect(() => {\n    // set local storage\n    //console.log(\"this is the use effect running up and downnnnnnn   nooooooooooooowwwwwwwwwwww\")\n    // dispatch({type: 'CLEAR_DATA'});\n    persistToLocalStorage(); // persistToState();\n    // checkLocalStorage(\"firstName\");\n  });\n  return __jsx(\"div\", {\n    className: \"pagegrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"innergrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"profile-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 19\n    }\n  }, \"Bio Information    1\"), __jsx(\"div\", {\n    className: \"three-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 25\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"firstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 27\n    }\n  }, \"First Name  \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 66\n    }\n  }, validation.errors.get(\"firstName\"))), __jsx(\"input\", {\n    className: \"firstName\",\n    id: \"firstName\",\n    onChange: handleChange,\n    value: bioInformation.firstName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 27\n    }\n  })), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 25\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"otherName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 27\n    }\n  }, \"Other Name \"), __jsx(\"input\", {\n    id: \"otherName\",\n    onChange: handleChange,\n    value: bioInformation.otherName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 27\n    }\n  })), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 25\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"lastName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 27\n    }\n  }, \"Last Name  \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 64\n    }\n  }, validation.errors.get(\"lastName\"))), __jsx(\"input\", {\n    id: \"lastName\",\n    onChange: handleChange,\n    value: bioInformation.lastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 27\n    }\n  }))), __jsx(\"div\", {\n    className: \"three-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"gender\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 27\n    }\n  }, \"Gender  \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 59\n    }\n  }, validation.errors.get(\"gender\"))), __jsx(\"select\", {\n    id: \"gender\",\n    onChange: handleChange,\n    value: bioInformation.gender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 27\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 31\n    }\n  }), __jsx(\"option\", {\n    value: \"Male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 31\n    }\n  }, \"Male\"), __jsx(\"option\", {\n    value: \"Female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 31\n    }\n  }, \"Female\"))), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"dob\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 27\n    }\n  }, \"Date Of Birth  \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 63\n    }\n  }, validation.errors.get(\"dob\"))), __jsx(\"input\", {\n    id: \"dob\",\n    type: \"date\",\n    onChange: handleDateChange,\n    value: bioInformation.dob,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 27\n    }\n  })), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"placeOfBirth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 27\n    }\n  }, \"Place Of Birth  \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 73\n    }\n  }, validation.errors.get(\"placeOfBirth\"))), __jsx(\"input\", {\n    id: \"placeOfBirth\",\n    onChange: handleChange,\n    value: bioInformation.placeOfBirth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 27\n    }\n  }))), __jsx(\"div\", {\n    className: \"two-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    size: \"small\",\n    color: \"primary\",\n    onClick: handleSaveNow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 26\n    }\n  }, \"Save And Logout\")), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    size: \"small\",\n    color: \"primary\",\n    disabled: buttonState,\n    onClick: handleForward,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 26\n    }\n  }, \"Next\"))), __jsx(\"div\", {\n    className: \"one-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"column componentFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 26\n    }\n  }, \"1/6\"))))));\n};\n\nexport default BioInformation;","map":{"version":3,"sources":["/home/noa/ntdbProject/app/NTDB/components/profile/bioInformation.js"],"names":["React","useState","useEffect","useContext","moment","Cookie","ProfileContext","jwtFuncs","localStorageFuncs","logout","Logout","checkInLocalStorage","axiosFuncs","Validator","BioInformation","props","dispatch","currentProfile","profileValue","profile","bioInformation","console","log","JSON","stringify","setBioInformation","profileStep","firstName","otherName","lastName","gender","dob","placeOfBirth","buttonState","setButtonState","rules","validation","required","fails","passes","handleDateChange","date","format","handleChange","e","preventDefault","target","id","value","handleForward","type","payload","next","go","updatestep","handleSaveNow","data","api","profilePost","status","persistToLocalStorage","getLocalItem","getItemFromStorage","undefined","setLocalItem","setItemInStorage","errors","get"],"mappings":"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","sourcesContent":["import React, { useState,useEffect, useContext } from 'react'\n\nimport moment from 'moment'\n\n\nimport Cookie from 'js-cookie'\n\nimport { ProfileContext } from '../../store/contexts/profileContext'\nimport jwtFuncs from '../../utility/jwt'\n\nimport localStorageFuncs from '../../utility/localStorage'\nimport logout from '../../utility/logout';\n\n//import Navbar from '../../layouts/navbar'\n\nimport '../../public/assets/style.scss';\nimport Logout from '../../utility/logout'\nimport checkInLocalStorage from '../componentUtility/persistLocalToState'\nimport axiosFuncs from '../../utility/axios'\n\nimport Validator from 'validatorjs';\n\n\n //   const cropper = React.createRef(null);\n\n//  const buttonStyle = {\n//   backgroundColor: 'blue',\n//  // backgroundImage: 'url(' + imgUrl + ')',\n// };\n\n\n\n\nconst BioInformation = (props) => {\n\n // console.log(\"this is the passed in props +\"+JSON.stringify(props));\n\n\n  //const localCookie = Cookie.get('auth'); \n\n  //console.log(\"this is the local cookie from Bio Information       nnnnnn    ----->>>>>>>>>>>>> \"+localCookie);\n\n\n  const { dispatch } = useContext(ProfileContext);\n\n  const currentProfile = useContext(ProfileContext);\n\n  const profileValue = currentProfile.profile.bioInformation;\n\n//   const bioInformation = (val) => {\n\n//       if(val === undefined){\n//           return\n//       }else{\n//         return val\n//       }\n//     }\n\n  console.log(\"this is the current contect =============>>>>>>>>>>> \"+JSON.stringify(currentProfile));\n\n // console.log(\"this is the current contect =============>>>>>>>>>>> \"+currentProfile.profile.bioInformation.firstName);\n\n// const checkInLocalStorage = (val) => {\n\n//   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n//   const localStorageValue = getLocalItem.bioInformation[val]\n\n//   if(localStorageValue !== undefined){\n//   //  console.log(\"there is a value   -->>\"+localValue);\n//     return localStorageValue\n//   }else{\n//     return ''\n//   }\n// }\n\n\n  const [bioInformation, setBioInformation] = useState(\n          {\n          //  nextProfileStep: 2,\n            profileStep:1,\n            firstName: checkInLocalStorage(\"bioInformation\",\"firstName\"),\n            otherName: checkInLocalStorage(\"bioInformation\",\"otherName\"),\n            lastName: checkInLocalStorage(\"bioInformation\",\"lastName\"),\n            gender: checkInLocalStorage(\"bioInformation\",\"gender\"),\n            dob :  checkInLocalStorage(\"bioInformation\",\"dob\"),\n            placeOfBirth: checkInLocalStorage(\"bioInformation\",\"placeOfBirth\"),\n          \n          \n          }\n);\n\nconst [buttonState, setButtonState] = useState(true);\n\n                 \nlet rules = {\n\n  firstName: 'required',\n  // otherName: 'required|email',\n  lastName: 'required',\n  gender: 'required',\n  dob :  'required',\n  placeOfBirth: 'required',\n \n//  email: 'required|email',\n//  age: 'min:18'\n};\n \nlet validation = new Validator(bioInformation, rules, { required: 'required*' });\n\nvalidation.fails(); // true\nvalidation.passes(); // false\n \n\n// if (validation.fails()) {\n//   console.log(\"the validation has failed thats why u see this \"+validation.errors.get(\"firstNameame\"));\n\n//   // Error messages\n// validation.errors.first('email'); // 'The email format is invalid.'\n// validation.errors.get('email');\n\n// }\n\n\n\nuseEffect(() => {\n\n\n    if (validation.passes()) {\n      setButtonState(false);\n     // console.log(\"the   buttonStete \"+buttonState);  \n    }else{\n      setButtonState(true);\n\n    }\n},[bioInformation]);\n\n\n\n\n\n\n const handleDateChange = date => {\n    //setSelectedDate(date);\n    setBioInformation({ ...bioInformation, dob: moment(date).format('YYYY-MM-DD') })\n\n  };\n\n  const  handleChange =(e) => {\n    e.preventDefault(); \n    setBioInformation({ ...bioInformation, [e.target.id]: e.target.value })\n\n  }\n\n const handleForward = async e => {\n\n    e.preventDefault();\n\n    if (validation.passes()) {    \n      dispatch({type: 'ADD_PROFILE_DATA', payload: {bioInformation: bioInformation}}); \n      const next = \"F\";\n      const go = await props.updatestep(next);\n      dispatch({type: 'CURRENT_STEP', payload: bioInformation.profileStep+1});\n      if(go){     \n      //  console.log(\"all has gone well with the profile update from the props--->>>> \"+props.currentStep);\n        return go\n      }\n      \n    }\n\n  \n\n\n}\n\n\nconst handleSaveNow = async e => {\n\n  e.preventDefault();\n\n // setBioInformation({ ...bioInformation, profileStep: bioInformation.profileStep+1 });\n\n  const data =  {...bioInformation,  profileStep: bioInformation.profileStep+1};\n\n  console.log(\"the data  \"+ JSON.stringify(bioInformation));\n\n  if (validation.passes()) {  \n      let api = await axiosFuncs.profilePost(data);\n      if(api.data === \"error\" ){\n        console.log(\"the log is error\");\n      }\n      if (api.data === \"success\") {\n        console.log(\"the log is success\"+api.status);\n        // router.push('/account')\n      }\n      dispatch({type: 'CLEAR_CONTEXT'});\n      Logout();\n\n  }else{\n    dispatch({type: 'CLEAR_CONTEXT'});\n    Logout();\n  }\n \n\n\n  \n\n // props.createProfile(props.stateData);\n \n\n//  logout();\n\n}\n\n\n\n\nconst persistToLocalStorage = () => {\n\n  const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n\n  if(getLocalItem !== undefined){\n\n \n\n  }else{\n\n   // console.log(\"i=the local storage is empty make i put something insidehinixdopd\")\n  //  const newData = {...getLocalItem, bioInformation };\n    const setLocalItem = localStorageFuncs.setItemInStorage(\"profile\", bioInformation);\n\n    return setLocalItem;\n\n  }\n\n}\n\n\n\n\nuseEffect(() => {\n  // set local storage\n\n  //console.log(\"this is the use effect running up and downnnnnnn   nooooooooooooowwwwwwwwwwww\")\n // dispatch({type: 'CLEAR_DATA'});\n\n  persistToLocalStorage();\n  // persistToState();\n  // checkLocalStorage(\"firstName\");\n})\n\n\n\n  return (\n\n    <div className=\"pagegrid\">\n      {/* <Navbar /> */}\n\n        <div className=\"innergrid\">\n\n            <div className=\"profile-form\" >\n\n                  <h3>Bio Information    1</h3>\n\n                  <div className=\"three-column-row\">\n                    \n                        <div className=\"column\">\n                        \n                          <label htmlFor=\"firstName\">First Name  <span className=\"fieldError\">{validation.errors.get(\"firstName\")}</span></label> \n                          <input className=\"firstName\" id=\"firstName\" onChange={handleChange}  value={bioInformation.firstName} />\n                \n                        </div> \n                        <div className=\"column\">\n                          <label htmlFor=\"otherName\">Other Name </label>\n                          <input id=\"otherName\" onChange={handleChange} value={bioInformation.otherName}  />\n                         \n                        </div> \n                        <div className=\"column\">\n                          <label htmlFor=\"lastName\">Last Name  <span className=\"fieldError\">{validation.errors.get(\"lastName\")}</span></label>\n                          <input id=\"lastName\" onChange={handleChange} value={bioInformation.lastName}  />\n                         \n                        </div>\n                   \n                  </div>\n\n                  <div className=\"three-column-row\">\n                      <div className=\"column\">\n                          <label htmlFor=\"gender\">Gender  <span className=\"fieldError\">{validation.errors.get(\"gender\")}</span></label>\n                          <select id=\"gender\" onChange={handleChange} value={bioInformation.gender}  >\n                              <option value=\"\" />\n                              <option value={\"Male\"}>Male</option>\n                              <option value={\"Female\"}>Female</option>\n                          </select>\n                      </div>\n                      <div className=\"column\">\n                          <label htmlFor=\"dob\">Date Of Birth  <span className=\"fieldError\">{validation.errors.get(\"dob\")}</span></label>\n                          <input id=\"dob\" type=\"date\" onChange={handleDateChange} value={bioInformation.dob}  />\n                      </div>\n                      <div className=\"column\">\n                          <label htmlFor=\"placeOfBirth\">Place Of Birth  <span className=\"fieldError\">{validation.errors.get(\"placeOfBirth\")}</span></label>\n                          <input id=\"placeOfBirth\" onChange={handleChange} value={bioInformation.placeOfBirth}  />\n                      </div>\n                  </div>\n\n                  \n\n                  <div className=\"two-column-row\">\n                      <div className=\"column\">\n                         <button  size=\"small\" color=\"primary\" onClick={handleSaveNow}>Save And Logout</button>\n                      </div>\n                      <div className=\"column\">\n                         <button size=\"small\" color=\"primary\" disabled={buttonState} onClick={handleForward}>Next</button>\n                      </div>\n                  </div>\n\n                  <div className=\"one-column-row\">\n                      <div className=\"column componentFooter\">\n                         <span>1/6</span>\n                      </div>\n                  </div>\n\n              </div>\n\n              </div>\n              \n     \n\n    </div>\n\n\n  )\n}\n\n\nexport default BioInformation;\n\n\n\n"]},"metadata":{},"sourceType":"module"}