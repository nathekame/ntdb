{"ast":null,"code":"var _jsxFileName = \"/home/noa/ntdbProject/app/NTDB/components/profile/contactInformation.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { ProfileContext } from '../../store/contexts/profileContext'; //import Navbar from '../../layouts/navbar'\n\nimport '../../public/assets/style.scss';\nimport Logout from '../../utility/logout';\nimport checkInLocalStorage from '../componentUtility/persistLocalToState';\nimport axiosFuncs from '../../utility/axios';\nimport Validator from 'validatorjs';\nimport Cookie from 'js-cookie';\nimport jwtFuncs from '../../utility/jwt';\nimport composeApiData from '../componentUtility/composeApiData'; //import localStorageFuncs from '../../../utility/localStorage'\n//   const cropper = React.createRef(null);\n\nconst ContactInformation = props => {\n  //console.log(\"this is the passed in props +\"+JSON.stringify(props));\n  // console.log(\"this is the passed in props -\"+props.stepremove);\n  const coVal = Cookie.get(\"auth\");\n\n  const profileStep = cookie => {\n    return cookie ? jwtFuncs.jwtProfileStep(cookie) : 1;\n  };\n\n  const sessionProStep = profileStep(coVal); //console.log(\"the pro step \"+sessionProStep);\n\n  const {\n    dispatch\n  } = useContext(ProfileContext); //  const checkInLocalStorage = (val) => {\n  //   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n  //   const localStorageValue = getLocalItem[\"contactInformation\"][val]\n  //   console.log(\" i have to trouble shoot from here \"+localStorageValue);\n  //   if(localStorageValue !== undefined){\n  //   //  console.log(\"there is a value   -->>\"+localValue);\n  //     return localStorageValue\n  //   }else{\n  //     return ''\n  //   }\n  // }\n\n  const {\n    0: contactInformation,\n    1: setContactInformation\n  } = useState({\n    // prevProfileStep:1,\n    // nextProfileStep:3,\n    profileStep: 2,\n    stateOfOrigin: checkInLocalStorage(\"contactInformation\", \"stateOfOrigin\"),\n    lga: checkInLocalStorage(\"contactInformation\", \"lga\"),\n    address: checkInLocalStorage(\"contactInformation\", \"address\"),\n    controlNumber: checkInLocalStorage(\"contactInformation\", \"controlNumber\"),\n    mobileNumber: checkInLocalStorage(\"contactInformation\", \"mobileNumber\")\n  });\n  const {\n    0: buttonStateF,\n    1: setButtonStateF\n  } = useState(true);\n  const {\n    0: buttonStateB,\n    1: setButtonStateB\n  } = useState(false);\n  let rules = {\n    stateOfOrigin: 'required',\n    lga: 'required',\n    address: 'required',\n    mobileNumber: 'required' //  email: 'required|email',\n    //  age: 'min:18'\n\n  };\n  let validation = new Validator(contactInformation, rules, {\n    required: 'required*'\n  });\n  validation.fails(); // true\n\n  validation.passes(); // false\n\n  useEffect(() => {\n    if (validation.passes()) {\n      setButtonStateF(false); // console.log(\"the   buttonStete \"+buttonState);  \n    } else {\n      setButtonStateF(true);\n    }\n  }, [contactInformation]);\n  useEffect(() => {\n    if (contactInformation.profileStep === sessionProStep) {\n      setButtonStateB(true); //  console.log(\"the   buttonStete \"+contactInformation.profileStep);  \n    } else {\n      setButtonStateB(false);\n    }\n  }); // const updateState = () =>{\n  //   console.log(\"i have reached this place for the user effct\")\n  // }\n  //   useEffect(updateState, []);\n\n  const handleChange = e => {\n    e.preventDefault();\n    setContactInformation(_objectSpread({}, contactInformation, {\n      [e.target.id]: e.target.value\n    }));\n  };\n\n  const handleForward = async e => {\n    e.preventDefault(); //   dispatch({type: 'ADD_PROFILE_DATA', payload: contactInformation});\n\n    if (validation.passes()) {\n      dispatch({\n        type: 'ADD_PROFILE_DATA',\n        payload: {\n          contactInformation: contactInformation\n        }\n      });\n      const next = \"F\";\n      const go = await props.updatestep(next);\n      dispatch({\n        type: 'CURRENT_STEP',\n        payload: contactInformation.profileStep + 1\n      });\n\n      if (go) {\n        return go;\n      }\n    }\n  };\n\n  const handleBack = async e => {\n    e.preventDefault();\n    const next = \"B\";\n    const go = await props.updatestep(next);\n    dispatch({\n      type: 'CURRENT_STEP',\n      payload: contactInformation.profileStep - 1\n    });\n\n    if (go) {\n      return go;\n    }\n  };\n\n  const handleSaveNow = async e => {\n    //  console.log(\"i am here to save first foitiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii\");\n    e.preventDefault(); //  const data = {...commonData, ...uniqueData};\n    // setContactInformation({ ...contactInformation, profileStep: 3 });\n    //console.log(\"the neww contact details J \"+JSON.stringify(contactInformation));\n\n    const data = _objectSpread({}, contactInformation, {\n      profileStep: contactInformation.profileStep + 1\n    }); // console.log(\"the neww contact details JJ \"+JSON.stringify(data));\n\n\n    if (validation.passes()) {\n      const dataToPost = composeApiData.composeFullProfileData(data);\n      let api = await axiosFuncs.profilePost(dataToPost);\n\n      if (api.data === \"error\") {\n        console.log(\"the log is error\");\n      }\n\n      if (api.data === \"success\") {\n        console.log(\"the log is success\" + api.status); // router.push('/account')\n\n        dispatch({\n          type: 'CLEAR_CONTEXT'\n        });\n        Logout();\n      }\n    } else {\n      dispatch({\n        type: 'CLEAR_CONTEXT'\n      });\n      Logout();\n    } //logout();\n\n  }; // const persistToLocalStorage = () => {\n  //   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n  //   if(getLocalItem !== undefined){\n  //   }else{\n  //    // console.log(\"i=the local storage is empty make i put something insidehinixdopd\")\n  //   //  const newData = {...getLocalItem, personalDetails };\n  //     const setLocalItem = localStorageFuncs.setItemInStorage(\"profile\", contactInformation);\n  //     return setLocalItem;\n  //   }\n  // }\n  // useEffect(() => {\n  //   // set local storage\n  //   //console.log(\"this is the use effect running up and downnnnnnn   nooooooooooooowwwwwwwwwwww\")\n  //  // dispatch({type: 'CLEAR_DATA'});\n  //   persistToLocalStorage();\n  //   // persistToState();\n  //   // checkLocalStorage(\"firstName\");\n  // })\n\n\n  return __jsx(\"div\", {\n    className: \"pagegrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 6\n    }\n  }, __jsx(\"div\", {\n    className: \"innergrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"profile-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, \"Contact Details  2\"), __jsx(\"div\", {\n    className: \"two-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"stateOfOrigin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 27\n    }\n  }, \"State Of Origin  \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 75\n    }\n  }, validation.errors.get(\"stateOfOrigin\"))), __jsx(\"select\", {\n    id: \"stateOfOrigin\",\n    onChange: handleChange,\n    value: contactInformation.stateOfOrigin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 27\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 31\n    }\n  }), __jsx(\"option\", {\n    value: \"NIGER\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 31\n    }\n  }, \"NIGER\"))), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"lga\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 27\n    }\n  }, \"LGA   \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 54\n    }\n  }, validation.errors.get(\"lga\"))), __jsx(\"select\", {\n    id: \"lga\",\n    onChange: handleChange,\n    value: contactInformation.lga,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 27\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 31\n    }\n  }), __jsx(\"option\", {\n    value: \"DELTA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 31\n    }\n  }, \"DELTA\"), __jsx(\"option\", {\n    value: \"KANO\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 31\n    }\n  }, \"KANO\"), __jsx(\"option\", {\n    value: \"RIVERS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 31\n    }\n  }, \"RIVERS\")))), __jsx(\"div\", {\n    className: \"two-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 19\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"controlNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 21\n    }\n  }, \"Address   \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 62\n    }\n  }, validation.errors.get(\"controlNumber\"))), __jsx(\"input\", {\n    id: \"controlNumber\",\n    onChange: handleChange,\n    value: contactInformation.controlNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"mobileNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }, \"Mobile Number   \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 67\n    }\n  }, validation.errors.get(\"mobileNumber\"))), __jsx(\"input\", {\n    id: \"mobileNumber\",\n    onChange: handleChange,\n    value: contactInformation.mobileNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  }))), __jsx(\"div\", {\n    className: \"one-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 19\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 21\n    }\n  }, \"Address   \", __jsx(\"span\", {\n    className: \"fieldError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 56\n    }\n  }, validation.errors.get(\"address\"))), __jsx(\"textarea\", {\n    id: \"address\",\n    onChange: handleChange,\n    value: contactInformation.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 21\n    }\n  }))), __jsx(\"div\", {\n    className: \"two-column-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    variant: \"outlined\",\n    size: \"small\",\n    color: \"primary\",\n    disabled: buttonStateB,\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 26\n    }\n  }, \" Back \")), __jsx(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    size: \"small\",\n    color: \"primary\",\n    disabled: buttonStateF,\n    onClick: handleForward,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 26\n    }\n  }, \"Next\"))))));\n};\n\nexport default ContactInformation;","map":{"version":3,"sources":["/home/noa/ntdbProject/app/NTDB/components/profile/contactInformation.js"],"names":["React","useState","useEffect","useContext","ProfileContext","Logout","checkInLocalStorage","axiosFuncs","Validator","Cookie","jwtFuncs","composeApiData","ContactInformation","props","coVal","get","profileStep","cookie","jwtProfileStep","sessionProStep","dispatch","contactInformation","setContactInformation","stateOfOrigin","lga","address","controlNumber","mobileNumber","buttonStateF","setButtonStateF","buttonStateB","setButtonStateB","rules","validation","required","fails","passes","handleChange","e","preventDefault","target","id","value","handleForward","type","payload","next","go","updatestep","handleBack","handleSaveNow","data","dataToPost","composeFullProfileData","api","profilePost","console","log","status","errors"],"mappings":"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","sourcesContent":["import React, { useState,useEffect, useContext } from 'react'\n\nimport { ProfileContext } from '../../store/contexts/profileContext'\n\n//import Navbar from '../../layouts/navbar'\n\nimport '../../public/assets/style.scss';\nimport Logout from '../../utility/logout'\nimport checkInLocalStorage from '../componentUtility/persistLocalToState';\nimport axiosFuncs from '../../utility/axios';\n\nimport Validator from 'validatorjs';\nimport Cookie from 'js-cookie'\nimport jwtFuncs from '../../utility/jwt';\nimport composeApiData from '../componentUtility/composeApiData';\n\n\n//import localStorageFuncs from '../../../utility/localStorage'\n\n\n\n //   const cropper = React.createRef(null);\n\nconst ContactInformation = (props) => {\n\n\n  //console.log(\"this is the passed in props +\"+JSON.stringify(props));\n // console.log(\"this is the passed in props -\"+props.stepremove);\n\nconst coVal = Cookie.get(\"auth\");\n \nconst profileStep = (cookie) => {\n    return cookie ? jwtFuncs.jwtProfileStep(cookie) : 1 \n }\n\nconst sessionProStep = profileStep(coVal);\n\n//console.log(\"the pro step \"+sessionProStep);\n\n\n\n const { dispatch  } = useContext(ProfileContext);\n\n//  const checkInLocalStorage = (val) => {\n\n//   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n//   const localStorageValue = getLocalItem[\"contactInformation\"][val]\n\n//   console.log(\" i have to trouble shoot from here \"+localStorageValue);\n\n//   if(localStorageValue !== undefined){\n//   //  console.log(\"there is a value   -->>\"+localValue);\n//     return localStorageValue\n//   }else{\n//     return ''\n//   }\n// }\n\n\n const [contactInformation, setContactInformation] = useState(\n              {\n                // prevProfileStep:1,\n                // nextProfileStep:3,\n                profileStep:2,\n                stateOfOrigin: checkInLocalStorage(\"contactInformation\",\"stateOfOrigin\"),\n                lga: checkInLocalStorage(\"contactInformation\", \"lga\"),\n                address: checkInLocalStorage(\"contactInformation\", \"address\"),\n                controlNumber: checkInLocalStorage(\"contactInformation\",\"controlNumber\"),\n                mobileNumber: checkInLocalStorage(\"contactInformation\",\"mobileNumber\"),\n\n\n              })\n\n\nconst [buttonStateF, setButtonStateF] = useState(true);\nconst [buttonStateB, setButtonStateB] = useState(false);\n                 \nlet rules = {\n\n  stateOfOrigin: 'required',\n  lga: 'required',\n  address: 'required',\n  mobileNumber: 'required',\n\n//  email: 'required|email',\n//  age: 'min:18'\n};\n \nlet validation = new Validator(contactInformation, rules, { required: 'required*' });\n\nvalidation.fails(); // true\nvalidation.passes(); // false\n\n\n\nuseEffect(() => {\n\n          if (validation.passes()) {\n                  setButtonStateF(false);\n                 // console.log(\"the   buttonStete \"+buttonState);  \n             }else{\n              setButtonStateF(true);\n            \n         }\n    },[contactInformation]);\n\nuseEffect(() => {\n\n      if (contactInformation.profileStep === sessionProStep ) {\n              setButtonStateB(true);\n            //  console.log(\"the   buttonStete \"+contactInformation.profileStep);  \n         }else{\n              setButtonStateB(false);\n        \n     }\n});\n\n\n// const updateState = () =>{\n\n//   console.log(\"i have reached this place for the user effct\")\n\n// }\n\n//   useEffect(updateState, []);\n\nconst  handleChange =(e) => {\n                e.preventDefault(); \n                setContactInformation({ ...contactInformation, [e.target.id]: e.target.value })\n            \n              }\n\n\nconst handleForward = async e => {\n\n    e.preventDefault();\n //   dispatch({type: 'ADD_PROFILE_DATA', payload: contactInformation});\n  if (validation.passes()) { \n      dispatch({type: 'ADD_PROFILE_DATA', payload: {contactInformation: contactInformation}});\n      const next = \"F\"\n      const go = await props.updatestep(next);\n      dispatch({type: 'CURRENT_STEP', payload: contactInformation.profileStep+1});\n      if(go){\n        return go\n      }\n    }\n\n}\n\nconst handleBack = async e => {\n\n    e.preventDefault();\n\n    const next = \"B\"\n    const go = await props.updatestep(next);\n    dispatch({type: 'CURRENT_STEP', payload: contactInformation.profileStep-1});\n    if(go){\n  \n      return go\n    }\n  \n}\n\n\nconst handleSaveNow = async e => {\n\n\n  //  console.log(\"i am here to save first foitiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii\");\n  \n    e.preventDefault();\n  //  const data = {...commonData, ...uniqueData};\n\n   // setContactInformation({ ...contactInformation, profileStep: 3 });\n\n   //console.log(\"the neww contact details J \"+JSON.stringify(contactInformation));\n\n    const data = {...contactInformation,  profileStep: contactInformation.profileStep+1};\n   // console.log(\"the neww contact details JJ \"+JSON.stringify(data));\n\n   if (validation.passes()) {  \n     const dataToPost = composeApiData.composeFullProfileData(data);\n    let api = await axiosFuncs.profilePost(dataToPost);\n    if(api.data === \"error\" ){\n      console.log(\"the log is error\");\n    }\n    if (api.data === \"success\") {\n      console.log(\"the log is success\"+api.status);\n\n      // router.push('/account')\n      dispatch({type: 'CLEAR_CONTEXT'});\n      Logout();\n    \n    }\n  }else{\n    dispatch({type: 'CLEAR_CONTEXT'});\n    Logout();\n  }\n \n\n    //logout();\n  \n  }\n\n\n\n// const persistToLocalStorage = () => {\n\n//   const getLocalItem = localStorageFuncs.getItemFromStorage(\"profile\");\n\n//   if(getLocalItem !== undefined){\n\n \n\n//   }else{\n\n//    // console.log(\"i=the local storage is empty make i put something insidehinixdopd\")\n//   //  const newData = {...getLocalItem, personalDetails };\n//     const setLocalItem = localStorageFuncs.setItemInStorage(\"profile\", contactInformation);\n\n//     return setLocalItem;\n\n//   }\n\n// }\n\n\n\n\n// useEffect(() => {\n//   // set local storage\n\n//   //console.log(\"this is the use effect running up and downnnnnnn   nooooooooooooowwwwwwwwwwww\")\n//  // dispatch({type: 'CLEAR_DATA'});\n\n//   persistToLocalStorage();\n//   // persistToState();\n//   // checkLocalStorage(\"firstName\");\n// })\n\n\n  \n\n\n\n\n  return (\n\n     <div className=\"pagegrid\">\n      {/* <Navbar /> */}\n\n        <div className=\"innergrid\">\n\n            <div className=\"profile-form\" >\n\n            <h3>Contact Details  2</h3>\n\n            <div className=\"two-column-row\">\n                      <div className=\"column\">                  \n                          <label htmlFor=\"stateOfOrigin\">State Of Origin  <span className=\"fieldError\">{validation.errors.get(\"stateOfOrigin\")}</span></label>\n                          <select id=\"stateOfOrigin\" onChange={handleChange} value={contactInformation.stateOfOrigin}>\n                              <option value=\"\" />\n                              <option value={\"NIGER\"}>NIGER</option>\n                          </select>\n                      </div>\n                      <div className=\"column\">\n                          <label htmlFor=\"lga\">LGA   <span className=\"fieldError\">{validation.errors.get(\"lga\")}</span></label>\n                          <select id=\"lga\" onChange={handleChange} value={contactInformation.lga} >\n                              <option value=\"\" />\n                              <option value={\"DELTA\"}>DELTA</option>\n                              <option value={\"KANO\"}>KANO</option>\n                              <option value={\"RIVERS\"}>RIVERS</option>\n                          </select>\n                      </div>\n            </div>\n\n            <div className=\"two-column-row\">\n                  <div className=\"column\">\n                    <label htmlFor=\"controlNumber\">Address   <span className=\"fieldError\">{validation.errors.get(\"controlNumber\")}</span></label>               \n                    <input id=\"controlNumber\"  onChange={handleChange} value={contactInformation.controlNumber} />                 \n                  </div>\n                  <div className=\"column\">\n                    <label htmlFor=\"mobileNumber\">Mobile Number   <span className=\"fieldError\">{validation.errors.get(\"mobileNumber\")}</span></label>\n                    <input id=\"mobileNumber\"  onChange={handleChange} value={contactInformation.mobileNumber} />    \n                  </div>\n            </div>\n\n            <div className=\"one-column-row\">\n                  <div className=\"column\">\n                    <label htmlFor=\"address\">Address   <span className=\"fieldError\">{validation.errors.get(\"address\")}</span></label>               \n                    <textarea id=\"address\" onChange={handleChange} value={contactInformation.address}></textarea>               \n                  </div>\n           \n            </div>\n\n      \n\n            <div className=\"two-column-row\">\n                      <div className=\"column\">\n                         <button variant=\"outlined\"   size=\"small\" color=\"primary\" disabled={buttonStateB} onClick={handleBack}>\tBack </button>\n                      </div>\n                      {/* <div className=\"column\">\n                         <button  size=\"small\" color=\"primary\"  onClick={handleSaveNow}>Save And Logout</button>\n                      </div> */}\n                      <div className=\"column\">\n                         <button size=\"small\" color=\"primary\" disabled={buttonStateF} onClick={handleForward}>Next</button>\n                      </div>\n                  </div>\n\n            </div>\n        </div>\n    </div>\n\n\n\n      \n  )\n}\n\n\nexport default ContactInformation;\n\n\n"]},"metadata":{},"sourceType":"module"}